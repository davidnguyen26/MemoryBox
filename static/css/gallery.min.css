.user-name,.user-time{text-shadow:0 2px 8px rgba(0,0,0,.4)}.action-btn,.comment-action-btn,.quick-action-btn,.stat-item{user-select:none;cursor:pointer}*{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.action-btn,.lightbox-image,.photo-card,.photo-image,.quick-action-btn{-webkit-tap-highlight-color:transparent}@media (prefers-reduced-motion:reduce){*,::after,::before{animation-duration:0s!important;animation-iteration-count:1!important;transition-duration:0s!important}}.gallery-container{max-width:1400px;margin:0 auto;padding:32px 16px}.gallery-header{text-align:center;margin-bottom:48px;padding:0;animation:.6s cubic-bezier(.16,1,.3,1) fadeInDown}@keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.gallery-title{font-size:2rem;font-weight:600;color:#0f172a;margin-bottom:8px;letter-spacing:-.02em;line-height:1.2}.gallery-subtitle{color:#64748b;font-size:.95rem;font-weight:400;letter-spacing:.01em}.photos-grid{column-count:1;column-gap:16px}.photo-card{position:relative;border-radius:16px;overflow:hidden;cursor:pointer;break-inside:avoid;margin-bottom:16px;background:#fff;border:1px solid rgba(226,232,240,.6);transition:transform .2s,box-shadow .2s;animation:.4s cubic-bezier(.16,1,.3,1) backwards fadeInUp;touch-action:manipulation;will-change:transform}.action-btn,.close-btn,.photo-card:active,.quick-action-btn{transition:transform .1s}@keyframes fadeInUp{from{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.photo-card:first-child,.photo-card:nth-child(n+7){animation-delay:0s}.photo-card:nth-child(2){animation-delay:50ms}.photo-card:nth-child(3){animation-delay:.1s}.photo-card:nth-child(4){animation-delay:.15s}.photo-card:nth-child(5){animation-delay:.2s}.photo-card:nth-child(6){animation-delay:.25s}.photo-card:active{transform:scale(.98)}.action-btn:active,.close-btn:active{transform:scale(.95)}.photo-card::after{content:'';position:absolute;inset:0;background:linear-gradient(to bottom,transparent 0,rgba(0,0,0,.75) 100%);opacity:0;pointer-events:none;transition:opacity .3s}.photo-image-wrapper{width:100%;position:relative;background:#f8fafc}.photo-image{width:100%;height:auto;display:block;image-rendering:-webkit-optimize-contrast;will-change:auto}.quick-action-btn,.user-avatar{width:36px;height:36px;backdrop-filter:blur(12px)}.photo-overlay{position:absolute;inset:0;padding:16px;display:flex;flex-direction:column;justify-content:space-between;z-index:2;min-height:100px;opacity:1;pointer-events:auto;background:linear-gradient(to bottom,rgba(0,0,0,.2) 0,rgba(0,0,0,.6) 100%)}.photo-top-info{display:flex;justify-content:space-between;align-items:flex-start}.photo-user{display:flex;align-items:center;gap:10px}.user-avatar,.user-name{color:#fff;align-items:center;display:flex;font-weight:600}.user-avatar{border-radius:50%;justify-content:center;font-size:.85rem;border:2px solid rgba(255,255,255,.4);background:rgba(0,0,0,.25);box-shadow:0 2px 8px rgba(0,0,0,.2);flex-shrink:0;overflow:hidden}.sidebar-avatar img,.user-avatar img{width:100%;height:100%;object-fit:cover;display:block}.comment-content,.sidebar-user-info,.user-info{flex:1;min-width:0}.user-name{font-size:.9rem;gap:4px}.user-time{font-size:.8rem;color:rgba(255,255,255,.95);margin-top:2px}.photo-quick-actions{display:flex;gap:8px}.quick-action-btn{border-radius:10px;background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.25);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1rem}.quick-action-btn:active{transform:scale(.95);background:rgba(255,255,255,.25)}.photo-bottom-info{display:flex;justify-content:space-between;align-items:flex-end;gap:12px}.photo-caption{color:#fff;font-size:.9rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;flex:1;text-shadow:0 2px 8px rgba(0,0,0,.5)}.photo-actions{display:flex;gap:10px;align-items:center;flex-shrink:0}.action-btn{background:rgba(255,255,255,.18);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.25);border-radius:24px;font-size:.8rem;display:flex;align-items:center;gap:6px;font-weight:600;padding:8px 12px;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,.3)}.action-btn i,.stat-item i{font-size:1rem}.action-btn.active{background:rgba(239,68,68,.95);border-color:rgba(239,68,68,.6)}.lightbox-modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.98);z-index:9999;animation:.25s fadeIn}.lightbox-modal.active{display:flex}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.lightbox-wrapper{width:100%;height:100%;display:flex;flex-direction:column}.lightbox-image-section{flex:0 0 45%;display:flex;align-items:center;justify-content:center;padding:60px 16px 20px;position:relative}.lightbox-image{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,.4);animation:.3s cubic-bezier(.16,1,.3,1) zoomIn}@keyframes zoomIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.close-btn{position:absolute;top:16px;right:16px;width:44px;height:44px;background:rgba(255,255,255,.1);backdrop-filter:blur(12px);border-radius:50%;border:1px solid rgba(255,255,255,.2);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;z-index:10}.lightbox-sidebar,.sidebar-header{background:#fff;position:relative}.close-btn:active{background:rgba(255,255,255,.15)}.nav-btn{display:none}.lightbox-sidebar{display:flex;flex-direction:column;overflow:hidden;flex:0 0 55%;max-width:100%}.sidebar-header{padding:24px;border-bottom:1px solid #f1f5f9}.sidebar-header::after{content:'';position:absolute;bottom:-1px;left:24px;right:24px;height:1px;background:linear-gradient(90deg,transparent 0,#e2e8f0 20%,#e2e8f0 80%,transparent 100%)}.sidebar-user{display:flex;align-items:center;gap:14px}.sidebar-avatar{width:54px;height:54px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#667eea 0,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-weight:600;color:#fff;font-size:1.15rem;flex-shrink:0;cursor:pointer;border:3px solid #f8fafc;box-shadow:0 2px 8px rgba(0,0,0,.08),0 0 0 1px rgba(0,0,0,.04);transition:.3s cubic-bezier(.4, 0, .2, 1)}.sidebar-caption,.sidebar-comments{overflow-y:auto;-webkit-overflow-scrolling:touch}.sidebar-avatar:hover{transform:scale(1.08);box-shadow:0 4px 16px rgba(102,126,234,.25),0 0 0 1px rgba(102,126,234,.1);border-color:#fff}.sidebar-caption,.sidebar-stats{padding:20px 24px;border-bottom:1px solid #f1f5f9}.sidebar-user-info h3{font-size:1rem;font-weight:700;color:#0f172a;margin:0 0 6px;display:flex;align-items:center;gap:6px;letter-spacing:-.01em}.comment-author a,.sidebar-user-info h3 a{color:inherit;text-decoration:none;transition:color .2s}.comment-action-btn:hover,.comment-author a:hover,.sidebar-user-info h3 a:hover{color:#6366f1}.sidebar-user-info p{font-size:.8rem;color:#64748b;margin:0;display:flex;align-items:center;gap:5px;font-weight:500}.sidebar-user-info p i{color:#94a3b8;font-size:.75rem}.sidebar-caption{background:#fafbfc;border-left:3px solid #6366f1;max-height:140px;position:relative;margin:0}.caption-text{font-size:.9rem;line-height:1.6;color:#334155;word-wrap:break-word;white-space:pre-wrap;font-weight:400}.sidebar-caption::-webkit-scrollbar{width:5px}.sidebar-caption::-webkit-scrollbar-track{background:0 0}.sidebar-caption::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:10px}.sidebar-caption::-webkit-scrollbar-thumb:hover{background:#94a3b8}.sidebar-stats{display:flex;gap:8px;flex-wrap:wrap;background:#fff}.stat-item{align-items:center;gap:7px;font-size:.82rem;color:#475569;font-weight:600;padding:10px 16px;border-radius:12px;background:#f8fafc;border:1px solid #f1f5f9;transition:.2s cubic-bezier(.4, 0, .2, 1)}.stat-item:hover{background:#fff;border-color:#e2e8f0;transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.04)}.stat-item:active{transform:translateY(0)}.sidebar-comments{flex:1;padding:20px 24px;background:#fff}.sidebar-comments::-webkit-scrollbar{width:6px}.sidebar-comments::-webkit-scrollbar-track{background:#f8fafc}.sidebar-comments::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:10px}.sidebar-comments::-webkit-scrollbar-thumb:hover{background:#94a3b8}.comments-title{font-size:.7rem;font-weight:700;color:#64748b;margin-bottom:16px;text-transform:uppercase;letter-spacing:.1em;display:flex;align-items:center;gap:8px}.comments-title::before{content:'';width:2px;height:12px;background:#6366f1;border-radius:2px}.comment{display:flex;gap:12px;padding:16px 0;border-bottom:1px solid #f1f5f9;transition:background .2s}.comment:hover{background:linear-gradient(to right,transparent 0,rgba(248,250,252,.5) 10%,rgba(248,250,252,.5) 90%,transparent 100%)}.comment:last-child{border-bottom:none}.comment-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.8rem;font-weight:600;flex-shrink:0;cursor:pointer;transition:.2s;box-shadow:0 2px 6px rgba(0,0,0,.08);overflow:hidden;border:2px solid #fff}.comment-avatar:hover{transform:scale(1.08);box-shadow:0 3px 10px rgba(0,0,0,.15)}.comment-avatar img{width:100%;height:100%;object-fit:cover}.comment-header{display:flex;align-items:baseline;gap:8px;margin-bottom:6px}.comment-author{font-weight:600;font-size:.82rem;color:#0f172a}.comment-time{font-size:.72rem;color:#94a3b8;font-weight:500}.comment-text{font-size:.85rem;line-height:1.5;color:#475569;word-wrap:break-word;margin-bottom:8px}.comment-actions{display:flex;gap:14px;align-items:center}.comment-action-btn{background:0 0;border:none;color:#94a3b8;padding:0;font-size:.72rem;font-weight:600;transition:.2s;text-transform:uppercase;letter-spacing:.03em}.comment-delete:hover{color:#ef4444}.empty-comments{text-align:center;padding:48px 20px;color:#cbd5e1}.empty-comments i{font-size:3rem;color:#e2e8f0;display:block;margin-bottom:16px;opacity:.5}.empty-comments p{font-size:.85rem;color:#94a3b8;font-weight:500}.sidebar-form{padding:16px 24px 20px;border-top:1px solid #f1f5f9;background:#fff;box-shadow:0 -4px 12px rgba(0,0,0,.02)}.comment-form{display:flex;gap:10px;align-items:flex-end}.comment-input{flex:1;padding:12px 16px;border:2px solid #f1f5f9;border-radius:20px;font-size:.86rem;background:#fafbfc;transition:.3s;font-family:inherit;resize:none;line-height:1.4;color:#334155}.comment-input:focus{outline:0;border-color:#6366f1;background:#fff;box-shadow:0 0 0 3px rgba(99,102,241,.08)}.comment-input::placeholder{color:#94a3b8}.comment-submit{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,#6366f1 0,#8b5cf6 100%);color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;transition:.3s cubic-bezier(.4, 0, .2, 1);box-shadow:0 4px 12px rgba(99,102,241,.3);font-size:1.05rem}.comment-submit:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 6px 20px rgba(99,102,241,.4)}.comment-submit:active{transform:translateY(0) scale(1)}.comment-submit:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:0 2px 6px rgba(99,102,241,.2)}@media (min-width:576px){.gallery-container{padding:40px 20px}.gallery-title{font-size:2.5rem}.gallery-subtitle{font-size:1rem}.photos-grid{column-count:2;column-gap:18px}.photo-card{margin-bottom:18px}}@media (min-width:992px){#shareMenu{padding:20px 28px}.close-btn,.nav-btn.next{right:20px}.gallery-container{padding:48px 24px}.gallery-header{margin-bottom:64px}.gallery-title{font-size:3rem}.gallery-subtitle{font-size:1.05rem}.photos-grid{column-count:3;column-gap:20px}.photo-card{margin-bottom:20px;transition:.4s cubic-bezier(.16, 1, .3, 1);will-change:transform,box-shadow}.photo-card:hover{transform:translateY(-8px);box-shadow:0 20px 40px rgba(0,0,0,.08),0 8px 16px rgba(0,0,0,.04);border-color:rgba(203,213,225,.8)}.photo-card:hover::after{opacity:1}.photo-card:hover .photo-image{transform:scale(1.03)}.photo-image{transition:transform .6s cubic-bezier(.16, 1, .3, 1);will-change:transform}.photo-overlay{opacity:0;pointer-events:none;transition:opacity .4s cubic-bezier(.16, 1, .3, 1);background:0 0}.photo-card:hover .photo-overlay{opacity:1;pointer-events:auto}.action-btn:hover,.quick-action-btn:hover{background:rgba(255,255,255,.28);transform:translateY(-2px)}.close-btn:hover,.nav-btn:hover{background:rgba(255,255,255,.15)}.action-btn:active,.quick-action-btn:active{transform:translateY(-2px) scale(.98)}.lightbox-wrapper{flex-direction:row}.lightbox-image-section{flex:0 0 65%;padding:60px 40px}.lightbox-sidebar{width:380px;max-width:35vw;flex:initial}.nav-btn{display:flex;position:absolute;width:48px;height:48px;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.08);backdrop-filter:blur(16px);border-radius:50%;border:1px solid rgba(255,255,255,.2);color:#fff;align-items:center;justify-content:center;cursor:pointer;font-size:1.3rem;transition:.3s cubic-bezier(.16, 1, .3, 1)}.nav-btn:hover{transform:translateY(-50%) scale(1.08)}.nav-btn.prev{left:20px}.close-btn{top:20px}.close-btn:hover{transform:rotate(90deg) scale(1.08)}.sidebar-header{padding:24px}.sidebar-avatar{width:56px;height:56px;font-size:1.2rem}.sidebar-user-info h3{font-size:1rem}.sidebar-caption,.sidebar-comments,.sidebar-stats{padding:18px 24px}.sidebar-form{padding:16px 24px}}@media (min-width:1400px){.photos-grid{column-count:4}}